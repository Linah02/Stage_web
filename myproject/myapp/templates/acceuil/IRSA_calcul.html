{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Page d'Accueil{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'myapp/css/calcul_style.css' %}">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        {% include 'layout/navbar_acceuil.html' %}
    </header>
    <div class="page-container">
        <div class="content-wrapper">
            <!-- <main class="main-content"> -->
                <div class="calcul-container">
                    <!-- Section des dÃ©tails -->
                    <div class="calcul-details">
                        <p><strong>Titre :</strong>Calcul IS</p>
                        <p><strong>Description :</strong> test</p>
                    </div>
                
                    <div class="calcul-content">
                        <form id="irsa-calculator" class="form-calcul">
                            <h2>Calcul IRSA</h2>
                            <div class="form-group">
                                <label for="salaire-brut">Salaire Brut (MGA):</label>
                                <input type="number" id="salaire-brut" name="salaire_brut" placeholder="Entrez le salaire brut" required>
                            </div>
                            <div class="form-group">
                                <label for="charges-sociales">Charges Sociales (%):</label>
                                <input type="number" id="charges-sociales" name="charges_sociales" placeholder="Entrez les charges sociales" required>
                            </div>
                            <div class="form-group">
                                <button class="btn_calculer" type="submit">calculer</button>
                                <button class="btn_anuler" type="submit">anuler</button>
                            </div>
                            <div id="result" class="result"></div>
                        </form>
                    </div>
                    
                </div>
        </div>
    </div>
    <footer>
        {% include 'layout/footer_acceuil.html' %}
    </footer>
</body>
</html>
<script>
    document.getElementById('irsa-calculator').addEventListener('submit', function(event) {
        event.preventDefault();

        const salaireBrut = parseFloat(document.getElementById('salaire-brut').value);
        const chargesSociales = parseFloat(document.getElementById('charges-sociales').value);

        if (isNaN(salaireBrut) || isNaN(chargesSociales)) {
            document.getElementById('result').textContent = "Veuillez entrer des valeurs valides.";
            return;
        }

        const charges = (salaireBrut * chargesSociales) / 100;
        const salaireNetImposable = salaireBrut - charges;
        const irsa = salaireNetImposable * 0.2; // Exemple : IRSA 20%

        document.getElementById('result').textContent = 
            `Salaire net imposable: ${salaireNetImposable.toFixed(2)} MGA, IRSA: ${irsa.toFixed(2)} MGA.`;
    });
</script>
