{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vidéo avec Navigation</title>
    <link rel="stylesheet" href="{% static 'myapp/css/list_video_style.css' %}">
    <style>
    #video .video-container {
        position: relative;
        background-image: url("{% static 'myapp/images/Login/Capture d’écran 2024-11-29 131202.png' %}"); 
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
        width: 100%;
        height: 620px;
        overflow: hidden;
    }

    
.video-title, .video-description {
    text-align: center;
    color: #fff;
}
/* Afficher seulement la vidéo active */
.video-wrapper.active {
    display: block;
}
.navigation {
position: relative;
bottom: 100px;
left: 50%;
transform: translateX(-50%);
display: flex;
gap: 10px;
justify-content: center;
}

.nav-point {
width: 10px;
height: 10px;
border-radius: 50%;
background-color: #888;
cursor: pointer;
}

.nav-point.active {
background-color: #007bff;
} 




/* Titre et détail */
h2 {
    text-align: center !important;
    font-size: 2rem;
    color: aliceblue;
    margin-top: 20px;
}

.detail {
    text-align: center !important;
    font-size: 1rem;
    color: #555;
    margin-bottom: 20px;
}
/* 
/* Conteneur de vidéo */
.video-wrapper {
    position: relative;
    width: 500px;
    left: 400px;
    height: 500px;
    overflow: hidden;
    display: none;
}
.video-wrapper.active{
    display: block;
}


.video-slide {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Assure que la vidéo reste entièrement visible sans déformation */
    position: absolute;
    top: 0;
    left: 0;
    transition: transform 0.5s ease-in-out;
}
 
    </style>
</head>
<body>
    <div class="video-container">
        {% for video in videos_publiees %}
        <div class="video-wrapper {% if forloop.first %}active{% endif %}">
            <h2 class="video-title">{{ video.titre }}</h2>
            <p class="video-description">{{ video.description }}</p>
            <video id="video{{ forloop.counter }}" 
                   class="video-slide" 
                   src="/media/{{ video.video }}" 
                   controls>
            </video>
        </div>
        {% endfor %}
    </div>
    <center>
    <div class="navigation">
        {% for video in videos_publiees %}
        <span class="nav-point {% if forloop.first %}active{% endif %}" data-video="{{ forloop.counter }}"></span>
        {% endfor %}
    </div>
</center>
    
    <script>
        document.querySelectorAll('.nav-point').forEach((point, index) => {
            point.addEventListener('click', () => {
                changeVideo(index + 1);
            });
        });

        function changeVideo(videoNumber) {
            const videoWrappers = document.querySelectorAll('.video-wrapper');
            const points = document.querySelectorAll('.nav-point');

            // Masquer toutes les vidéos et désactiver les points de navigation
            videoWrappers.forEach(wrapper => wrapper.classList.remove('active'));
            points.forEach(point => point.classList.remove('active'));

            // Activer uniquement la vidéo et le point correspondants
            videoWrappers[videoNumber - 1].classList.add('active');
            points[videoNumber - 1].classList.add('active');
        }
    </script>
</body>
</html>